
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout">
<head th:insert="/fragments/head.html::head">
</head>
<style>

.pic2 {
	margin-left: 33em;
}

.nickname2 {
/* 	position: absolute; */
	margin-left: 1em;
	font-size: 3em;
	font-weight: bold;
	text-align: center;
/* 	top: 70%; */
}

.row{
	borderwidth : 1px;
	
}

#row2{
	margin:12em;
	} 

.check2 {
	position: absolute;
	margin-left: 5em;
	font-size: 1.5em;
	top: 90%;
	color: red;
	text-decoration: underline;
}

#appointment2 {
	left: 50%
}

</style>
<body>

	<header th:replace="fragments/header :: header"> </header>

	<section class="hero-wrap hero-wrap-2"
		data-stellar-background-ratio="0.5">
		<div class="overlay"></div>
		<div class="container">
			<div
				class="row no-gutters slider-text align-items-end justify-content-center">
				<div class="col-md-9 ftco-animate pb-5">
					<p class="breadcrumbs mb-2">
						<span class="mr-2"><a href="/">Home <i
								class="ion-ios-arrow-forward"></i></a></span> <span>My Page<i
							class="ion-ios-arrow-forward"></i></span>
					</p>
					<h1 class="mb-0 bread">Edit</h1>
				</div>
			</div>
		</div>
	</section>
<!-- 	<section class="ftco-appointment ftco-section ftco-no-pt ftco-no-pb "> -->
	<section>
	<nav th:replace="mypage/common :: nav"></nav>
	

		<div class="overlay"></div>
		<div class="container"></div>
		<div class="row" id="row2">
			<div class="row d-md-flex justify-content-center">
				<div class="col-lg-6">
				<label for="customFile"><img style="margin-left:0;" th:if="${meminfo.profile}!=null" alt="프로필 사진이 없습니다." 
				th:src="@{'/gallery/display?fileName='+${meminfo.profile.picPath}+'/'+${meminfo.profile.picUuid}+'_'+${meminfo.profile.picName}+'.'+${meminfo.profile.picTail}}" id="profileImg" width="300" height="300"/>
				<img style="margin-left:0;" th:unless="${meminfo.profile}!=null" alt="프로필 사진이 없습니다." 
				src="http://placehold.it/300x300" id="profileImg" width="300" height="300"/></label>
						<p class="nickname2" th:text="${meminfo.memName}"></p><hr>
					

					<form th:action="@{|/mypage/editsend?${_csrf.parameterName}=${_csrf.token}|}" class="appointment"
						id="appointment2" method="post" enctype="multipart/form-data">
						<div class="form-group row">
		            <div class="col-sm-10">
		                <div class="custom-file" id="inputFile">
		                    <input name="file" type="file" class="custom-file-input" id="customFile">
		                    <label class="custom-file-label" for="customFile">프로필 사진 선택</label>
		                </div>
		            </div>
	        	</div><br><br>
						<input type="hidden" th:value="${meminfo.memNum}" name="memNum">
						<div class="row">

							<div class="col-md-6">
								<div class="form-group" style="border-color: black">
									<label class="label">이메일</label> 
									<input type="text" class="form-control" id="memEmail" name="memEmail"
										th:value="${meminfo.memEmail}" style="border-color: black"
										readonly>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label class="label" for="memName">닉네임</label> 
									<input type="text" class="form-control" id="memName" name="memName"
										th:value="${meminfo.memName}">
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label class="label" for="PhoneNumber">전화 번호</label> 
									<input type="text" class="form-control" id="PhoneNumber"
										name="memPhone" placeholder="PhoneNumber"
										th:value="${meminfo.memPhone}">
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label class="label" for="Password">비밀번호</label> 
									<input type="password" class="form-control" id="Password"
										name="memPass" placeholder="Password">
								</div>
							</div>
							<div class="col-md-12">
								<div class="form-group">
									<div class="form-field">
										<div class="select-wrap">
											<div class="icon">
												<span class="fa fa-chevron-down"></span>
											</div>
											<select name="" id="" th:field="${meminfo.memBank}"
												th:value="${meminfo.memBank}" class="form-control">
												<option th:value="null" th:text="은행을선택해주세요"></option>
												<option th:value="'국민은행'" th:text="국민은행"></option>
												<option th:value="'신한은행'" th:text="신한은행"></option>
												<option th:value="'농협은행'" th:text="농협은행"></option>
												<option th:value="'우리은행'" th:text="우리은행"></option>
												<option th:value="'하나은행'" th:text="하나은행"></option>
												<option th:value="'카카오뱅크'" th:text="카카오뱅크"></option>
											</select>
										</div>
									</div>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label class="label" for="memAccount">계좌번호</label> <input
										type="text" class="form-control" name="memAccount"
										id="memAccount" placeholder="Account"
										th:value="${meminfo.memAccount}">
								</div>
							</div>
							<hr>
							<hr>
							<div class="col-md-12">
								<div class="form-group">
									<input type="submit" id="join_btn" value="변경하기"
										class="btn btn-primary py-3 px-4">
								</div>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>

	</section>

	<footer th:replace="fragments/footer :: footer"> </footer>
	<script th:inline="javascript">
			
		$(".custom-file-input").change(function() {
			var file = $(this)[0].files;
			var fileName = $(this).val();
			console.log(""+fileName);
			var fileExt = fileName.substring(fileName.lastIndexOf(".")+1).toLowerCase();
			console.log(""+fileExt);
			console.log(""+file[0].size);
			if(fileExt!="jpg"&&fileExt!="jpeg"&&fileExt!="gif"&&fileExt!="png"&&fileExt!="bmp"){
				alert("이미지 파일이 아닙니다");
				$(this).val("");
				return;
			} else if(file[0].size >= 5242880){
				alert("5MB이하의 이미지만 사용가능합니다");
				return false;
			}
			
			if(this.files&& this.files[0]){
				var reader = new FileReader;
				reader.onload = function(data){
					$('#profileImg').attr("src", data.target.result).width(400);    
				}
				reader.readAsDataURL(this.files[0]);
			}
		  var fileName = $(this).val().split("\\").pop();
		  $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
		});
			
		$(document).ready(function(){
		
			
			
			
			
			
		});
</script>



</body>
</html>